# 版本变更日志

## v0.1

### v0.1e

- 前端：暂隐藏发送表情包。
- 初步走通FunAsr.com的2pass-offline的API，并开放前端语音对话功能．
- 新增funasr.com网站的API接口，在没有可用的ASR服务情况下，先白嫖一下。
- 根据Catherine的建议，为让界面的头像与人物模型保持一致，用人物模型的头像替换角色头像。
- 同步修改角色超市的角色头像，如果有模型头像就显示模型头像，没有模型或者没有模型头像就显示角色头像。
- 加入oddasr封装

### v0.1d
- 方案：由于一直无法将three.js的模型与mixiamo的动作做到很好的匹配，暂放弃3D虚拟方案，转以先用2D虚拟人来做演示。
- 优化LLM返回的流式文本回调。后台LLM引擎收到流式响应文本后，判断一句话是否结束后，才回调并发送至前端(若长文本未结束，则强制最多36字回调）。
- 优化知识库逻辑处理，未登录用户跳过知识库。
- 修改RoleProfile数据库表结构，将身高、体重默认值从NULL改为0。
- 重构记忆模块的权限: 用户可查询自己与每个角色的对话历史；角色拥有者可查询所有与该角色对话的历史。
- 调整虚拟人角色创建界面，将之改成多个tab的模式。


### v0.1c

- OM引擎加入ASR，并整合支持Vosk的ASR功能。
- 封装了一个前端音频采集模块om_recorder.js，支持opus采集，支持opus解码成pcm，支持重采集（16KHz采样率）
- 完成一个ASR demo(https://x.oddmeta.net/test_asr.html): 从前端采集opus，解码PCM，重采样到16KHz，然后发送到后端ASR引擎，再接收ASR返回文本。
- 聊天界面调整。
- 正式加入ASR让小落同学可以语音聊天（方便手机用户）

### v0.1b

- 权限：任何人不允许删除别人创建的角色。
- ASR：经确认，99块钱一年的ECS连all-MiniLM-L6-v2也跑不动。暂时屏蔽。
- Bug: 修复生成TTS报CRSF错误的问题。
- 界面：角色档案界面调整，改成由N个tab组成。
- 角色：新增小曦角色，整个3D人物由小曦自己设计。


### v0.1a
#### 新增功能
- 新增角色管理功能，用户可以创建、编辑和删除角色。
- 新增角色档案功能，用户可以查看和编辑角色的基本信息、背景故事、个性特点等。
- 新增记忆管理功能，用户可以查看和管理角色的记忆。
- 新增对话功能，用户可以与角色进行对话。
- 新增消息推送功能，用户可以接收角色的消息推送。
- 新增消息回复功能，用户可以回复角色的消息。
